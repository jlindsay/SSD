
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Sea Stream Demo: Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- For third-generation iPad with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="./iidx/components/brandkit/favicon/favicon-144px.png">

  <!-- For iPhone with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="./iidx/components/brandkit/favicon/favicon-114px.png">

  <!-- For first- and second-generation iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="./iidx/components/brandkit/favicon/favicon-72px.png">

  <!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="./iidx/components/brandkit/favicon/favicon.png">

  <link rel="icon" href="./iidx/components/brandkit/favicon/favicon.ico">
  <link href="./iidx/css/iids.css" rel="stylesheet" type="text/css">
  <link href="./iidx/css/responsive.css" rel="stylesheet" type="text/css">



  <link href="./css/hmi.css" rel="stylesheet" type="text/css">
  <!--link href="./css/styles.css" rel="stylesheet" type="text/css"-->

  <!--link href="./css/main.css" rel="stylesheet" type="text/css"-->

  <!--[if lt IE 9]>
    <link id="theme-ie" href="../../css/ie.css" rel="stylesheet" type="text/css">
  <![endif]-->

  <script src="./iidx/components/modernizr/modernizr.js"></script>
  <script src="./bower/jquery/dist/jquery.js"></script>
<style>

#left-nav
{
	box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.3);
}

#left-nav ul {
	box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.3);
}

#left-nav ul li{
	font-size: 18px;
	color:#666;
}

#left-nav ul li .description{
	font-size: 13px;
	color:#666;
}

#left-nav ul li .details{
	font-size: 11px;
	color:#aaa;
}
</style>

</head>
<body>

<nav id="navbar" class="navbar navbar-static-top navbar-default" role="navigation" >

  <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand" href="./index.html"><span class="ge-logo"></span> <span>Sea Stream Demo<small><i>powered by</i> GE Software</small></span></a>

      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>

  <div class="pull-right profile">
      <div class="btn-toolbar pull-left">
       
        
        <div class="btn-group open">
          <button class="btn btn-inverse dropdown-toggle" data-toggle="dropdown"><i class="icon-user"></i><span class="user-name">Tom Edison</span> <i class="icon-chevron-down"></i></button>
          
        </div>
        
        <img class="circular" src="./img/people/jeff-crossman.jpg" />
      </div>
    </div>
  </div>


  <div class="primary-navbar nav-collapse">
    <div class="container">
		<button id="fleet-view-btn" class="btn btn-primary pull-left"><i class="icon-sitemap pull-left"></i>Fleet View<span></button>
  </div>

</nav>

<nav id="left-nav" style="width:400px;max-width:400px; padding:20px; padding-top:120px; height:auto;">
	<h4 style="color:#333;"><strong>SMARTSIGNAL INCIDENtS</strong></h4>
	<ul class="list-group" style="padding-top:0px;">
		<li class="list-group-item">DS-01 <div class="pull-right" style="color:#ccc; font-size:11px;">1 min ago</div>
			
			<div class="description">Overall Risk  <div class="pull-right" style="color:#333; font-weight:bold;">87%</div></div>
 			<div style="width:100%; border:1px #ccc solid;">
 				<div style="width:80%; height:10px;background-color:#dc2839;"></div>
 			</div>
 			<div class="details">Gearbox Temerature Anomaly</div>
		</li>
		
	</ul>

	
	<h4 style="color:#333;"><strong>SHIPS</strong></h4>
	<ul class="list-group" style="padding-top:0px;">
		<li class="list-group-item">
		<i class="icon-search" style="font-size:18px;color:#aaa;"></i> Search
		<!--input id="query" type="search" class="form-control tt-input" autocomplete="off" placeholder="Search" spellcheck="false" dir="auto" style="position:relative;float:left;width:280px; background-color:none;"-->
		</li>
		<li class="list-group-item">DS-01 
			   <input name="data" value="#a" type="hidden" />
        <input class="btn btn-danger" type="button" value="POOR">
   			<i class="module-arrow icon-chevron-right pull-right" style="font-size:18px;color:#666;line-height:80px;"></i>
   			<div class="description">Acme Drilling Co.</div>
   			<div class="details">9% Average Downtime</div>
      
 		</li>
		<li class="list-group-item">DS-02 
			   <input name="data" value="#b" type="hidden" />
        <input class="btn btn-success" type="button" value="GOOD">
  			<i class="module-arrow icon-chevron-right pull-right" style="font-size:18px;color:#666;line-height:80px;"></i>
  			<div class="description">Acme Drilling Co.</div>
   			<div class="details">16% Average Downtime</div>
      
		</li>
		<li class="list-group-item">DS-03 
			   <input name="data" value="#c" type="hidden" />
        <input class="btn btn-success" type="button" value="GOOD">
  			<i class="module-arrow icon-chevron-right pull-right" style="font-size:18px;color:#666;line-height:80px;"></i>
  			<div class="description">Acme Drilling Co.</div>
   			<div class="details">21% Average Downtime</div>
      
		</li>
		<li class="list-group-item">DS-04 
        <input name="data" value="#d" type="hidden" />
        <input class="btn btn-warning" type="button" value="INTERMEDIATE">
  			<i class="module-arrow icon-chevron-right pull-right" style="font-size:18px;color:#666;line-height:80px;"></i>
  			<div class="description">Acme Drilling Co.</div>
   			<div class="details">7% Average Downtime</div>
		</li>
		<li class="list-group-item">DS-05 
			   <input name="data" value="#e" type="hidden" />
        <input class="btn btn-success" type="button" value="GOOD">
  			<i class="module-arrow icon-chevron-right pull-right" style="font-size:18px;color:#666;line-height:80px;"></i>
  			<div class="description">Acme Drilling Co.</div>
   			<div class="details">9% Average Downtime</div>
      
		</li>
	</ul>
</nav>


<section id="content" style="left:400px;right:0px;margin-top:97px; position:relative; overflow:hidden;">
      <div class="parent" style="overflow: hidden; position: relative;">
        <div class="panzoom" style="transform: matrix(1.2, 0, 0, 1.2, -144.314285714285, 28.5160714285843); backface-visibility: hidden; transform-origin: 50% 50% 0px; cursor: move; transition: none; -webkit-transition: none;">
            <a id="a" href="home.html?uuid=202"><img class="my-ship-icon" src="./img/icons/ship-icon.png" style="z-index:10; position:relative; top:900px; left:1100px;"></a>
            <a id="b" href="home.html?uuid=203"><img class="my-ship-icon" src="./img/icons/ship-icon.png" style="z-index:10; position:relative; top:800px; left:1150px;"></a>
            <a id="c" href="home.html?uuid=204"><img class="my-ship-icon" src="./img/icons/ship-icon.png" style="z-index:10; position:relative; top:850px; left:1200px;"></a>
            <a id="d" href="home.html?uuid=205"><img class="my-ship-icon" src="./img/icons/ship-icon.png" style="z-index:10; position:relative; top:950px; left:1300px;"></a>
            <a id="d" href="home.html?uuid=205"><img class="my-ship-icon" src="./img/icons/ship-icon.png" style="z-index:10; position:relative; top:900px; left:1250px;"></a>
            <img id="my-map" class="map" src="./img/google-map.png">
        </div>
      </div>
</section>    



    




<script src="./iidx/components/requirejs/require.js"></script>
<script src="./iidx/js/require.config.js"></script>
<script type="text/javascript">

	require.config({
    	baseUrl: './iidx/',
        
  	});

</script>

<script src="./iidx/components/jquery/jquery.js"></script>
<script src="./js/globle.js"></script>
<script src="./js/keynote.js"></script>

<style>
  img{  

      max-width: none;
      width: none;
      height: none;
      vertical-align: none;
      border: none;
}


.my-ship-icon{
 opacity:1;
    filter:alpha(opacity=100); /* For IE8 and earlier */
  -o-transition: .3s;
  -ms-transition: .3s;
  -moz-transition: .3s;
  -webkit-transition: .3s;
  transition: .3s;
  cursor: pointer; cursor: hand;
}

.my-ship-icon:hover{
      opacity:0.4;
    filter:alpha(opacity=40); /* For IE8 and earlier */

}
</style>

<script>

	require.config({
		baseUrl: './',
		urlArgs: String("r="+ (new Date()).getTime()),
  		paths: {
			'cookies'        : 'js/jquery.cookie',
    		'url'             : 'js/jquery.url',
    		'keynote'         : 'js/keynote',
    		'scrollTo'        :'js/jquery.scrollTo.js',
            "jquery.panzoom"    : './bower/jquery.panzoom/dist/jquery.panzoom'
		},
		shim: {
			'url'        : ['jquery'],
			'cookies'    : ['jquery'],
			'scrollTo'   : ['jquery'],
            'jquery.panzoom' : ['jquery'],
		}

	});

	require(['jquery','cookies', 'url', 'jquery.panzoom'], function($) {
   			console.log("deubg:init()");
   		var _keynote = new Keynote().init( { pages: _pages } );
   			initUI();
	});

    function initUI()
    {
//        console.log("ping");
        

        var $panzoom = $('.panzoom').panzoom();
            
            $panzoom.parent().on('mousewheel.focal', function( e ) {
                        //console.log(e);
                        e.preventDefault();
                        $(".my-popover").remove();
                    var delta = e.delta || e.originalEvent.wheelDelta;
                    var zoomOut = delta ? delta < 0 : e.originalEvent.deltaY > 0;
                        console.log(zoomOut);
                        $panzoom.panzoom('zoom', zoomOut, {
                            increment: 0.1,
                            animate: false,
                            focal: e
                });
          });





/*
        $(".panzoom").css({"transform": "matrix(0.4, 0, 0, 0.4, -559.650216450218, 329.687175324678)",
                            "transform-origin": "50% 50% 0px" });
*/
        $(".my-ship-icon").click(function(e){
            e.preventDefault();
        });
        $(".my-ship-icon").hover(showPopup);
        $(".panzoom").mousedown(function(e){
            $(".my-popover").remove();
        })
        //100 + $wrap.width()/2,100+ $wrap.height()/2
        $('.panzoom').hide();
        $('.panzoom').fadeIn("fast", function(e){
           
        })
        $(".panzoom").panzoom('zoom', .7, {relative: false, animate: false} ) // center  
        $(".panzoom").panzoom('pan', -726, -674, {relative: false, animate: true} ) // center  
        
        //$("#left-nav ul li").css( "cursor","");
        $("#left-nav ul li").click(function(e){
         // console.log(e.target)
            var id = $(e.target).closest("li").find("input[name=data]").val()
            console.log("click:", id );
            var elm = $(id).find("img");
            showPopup({target : elm, preventDefault:function(){} })
            //console.log($(id))
        })
    }

    function showPopup(e)
    {
          var html = '<div id="{{popoverId}}" class="my-popover popover top" data-popover-id="{{popoverId}}" style="position:absolute;display:block; "> \
                        <!--div class="arrow"></div--> \
                        <header class="panel-header"> \
                          <!--div class="left"><i class="icon-map-marker"></i></div--> \
                          <div class="popover-title panel-title voice voice-brand"><h3>{{title}}</h3></div> \
                        </header> \
                        <div class="popover-content panel-content">   \
                            <ul class="inline">   \
                                <li>IMO Number<br/></li>   \
                                <li>Ship Name<br/></li>   \
                                <li>Ship Category<br/></li>   \
                                <li>Operator<br/></li>   \
                                <li>Registered Owner<br/></li>   \
                                <li>Technical Manager<br/></li>   \
                                <li>Last Seen<br/></li>   \
                                <li>Move Status<br/></li>   \
                                <li>MT Photo/Info<br/></li>   \
                            </ul>   \
                            <div class="actions" style="">\
                                <button class="btn btn-primary pull-right my-btn">Ship Overview</button>  \
                             </div> \
                        </div> \
                        <div class="break">GE SmartSignal</div>       \
                        <footer class="panel-footer"> \
                             <div>Gearbox Temerature Anomaly</div>    \
                             <div>DIAGNOSIS</div> \
                             <div>SmartSignal has detected a small increase in bearing metal temperature on th einboard driver bearing on the gearbox of the top drive. Actual values are reaching 210 degrees Fahrenheit, while values were expected to be around 200 degrees Fahrenheit.  A small increase in vibrations is also being detected on the same bearing.  Vibrations have increased from expected values around 0.3 mils to values as high as 0.5 mils.</div> \
                             <div> \
                                <a href="./home.html?uuid={{uuid}}" class="btn btn-primary pull-right my-btn" >Details</a>   \
                             </div>\
                        </footer> \
                      </div>';
            e.preventDefault();
            $(".my-popover").remove();
            var id = "p-0";
            var title = "DS-01";
            //var zip = "na";
            //var tel = "na";
            //var message = "na";
            //var addressLine1 = "na";
            //var addressLine2 = "na";
            var uuid = "301";
            var tmp = html;
                tmp = tmp.split("{{popoverId}}").join(id)
                      .split("{{title}}").join(title)
                      .split("{{uuid}}").join(uuid)
                      
                console.log(tmp);
                $(document.body).prepend(tmp);
                var position = $(e.target).position();
                var offset = $(e.target).offset();

                    console.log( position, offset );
                //$(id).css("position", "realative");
                //console.log( $("#"+id).width() );
                $("#"+id).css("top", Number(offset.top) - 230 );
                $("#"+id).css("left", Number(offset.left) - 123 );
                //$(id).fadeIn();
            console.log("shit happens!");
        };

    
      

</script>

<style>
.my-popover
{

}
.my-popover footer
{
    background-color: #fff;
}
.my-popover .my-btn{
 
    margin-bottom: 10px;
}
.my-popover .break{
    background-color: #de2533;
    color: #fff;
    padding:10px;
    clear:both;
    
}
.my-popover header .popover-title h3{
  color: #fff;
}
.my-popover header .popover-title{
  text-align: center;
  background-color: #505357;
  color: #fff;


}

</style>

<script src="./iidx/components/respond/respond.src.js"></script>

</body>
</html>



